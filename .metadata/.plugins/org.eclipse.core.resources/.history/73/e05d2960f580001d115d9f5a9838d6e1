package com.ust.ticketCal;

import java.util.HashMap;
import java.util.List;
import java.util.Map;

public class TicketService {

	public List<TickectInfo> calculateTicketPrice(){
		
		List<TickectInfo> tickectInfo = new TicketDao().getTicketInfo();
		
		//tickectInfo.forEach(a-> System.out.println(a.getTicketId()+","+a.getName()+","+a.getSource()+","+a.getDestination()+","+a.getKm()+","+(a.getKm()*5)));
		
		Map<TickectInfo,Double> result=new HashMap<>();
		double price=5.0;
		
		for(TickectInfo tinfo:tickectInfo)
		{
			double km = tinfo.getKm();
			double amount=km*price;
			result.put(tinfo, amount);
		}
		
		
		return result.entrySet().forEach(a->{
			a-> System.out.println(a.getTicketId()+","+a.getName()+","+a.getSource()+","+a.getDestination()+","+a.getKm()+","+a.getValue())
		});
	}
	
	public static void main(String[] args) {
		TicketService ts=new TicketService();
		ts.calculateTicketPrice();

	}

}
